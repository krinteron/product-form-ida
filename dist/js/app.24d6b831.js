(function(){"use strict";var e={1382:function(e,t,a){var r=a(9242),n=a(3396);const o={class:"container"},i={class:"header"},l=(0,n._)("p",{class:"title"},"Добавление товара",-1),d={class:"main"},u={class:"input-form"};function s(e,t,a,s,c,p){const m=(0,n.up)("SelectComponent"),v=(0,n.up)("ProductForm"),f=(0,n.up)("CardComponent");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("header",i,[l,(0,n.Wm)(m,{options:e.sortOptions,modelValue:c.sortBy,"onUpdate:modelValue":t[0]||(t[0]=e=>c.sortBy=e)},null,8,["options","modelValue"])]),(0,n._)("main",d,[(0,n._)("aside",u,[(0,n.Wm)(v,{onSubmit:p.addProduct},null,8,["onSubmit"])]),(0,n.Wm)(r.W3,{class:"products",name:"list-complete",tag:"div"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(p.sortedProducts,(e=>((0,n.wg)(),(0,n.j4)(f,{class:"list-complete-item",key:e,data:e,onClick:t=>p.removeProduct(e.id)},null,8,["data","onClick"])))),128))])),_:1})])])}var c=a(65),p=a(7139);const m={class:"select-wrapper"},v=["value"];function f(e,t,a,o,i,l){return(0,n.wg)(),(0,n.iD)("label",null,[(0,n._)("span",m,[(0,n.wy)((0,n._)("select",{class:"input select-item","onUpdate:modelValue":t[0]||(t[0]=e=>l.selected=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,p.zw)(e.text),9,v)))),128))],512),[[r.bM,l.selected]])])])}var h={name:"SelectComponent",props:{options:{type:Array,required:!0},modelValue:{type:String||Number,required:!0}},emits:["update:modelValue"],computed:{selected:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},g=a(89);const w=(0,g.Z)(h,[["render",f],["__scopeId","data-v-08e7eea2"]]);var V=w;const b={class:"form-container"};function _(e,t,a,o,i,l){const d=(0,n.up)("InputComponent"),u=(0,n.up)("FormField"),s=(0,n.up)("GreenButton"),c=(0,n.up)("LayoutComponent");return(0,n.wg)(),(0,n.j4)(c,null,{default:(0,n.w5)((()=>[(0,n._)("form",b,[(0,n.Wm)(u,{label:"Наименование товара",required:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{modelValue:i.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e),validate:i.validate,placeholder:"Введите наименование товара"},null,8,["modelValue","validate"])])),_:1}),(0,n.Wm)(u,{label:"Описание товара"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("textarea",{class:"textarea-issue input","onUpdate:modelValue":t[1]||(t[1]=e=>i.description=e),placeholder:"Введите текст"},null,512),[[r.nr,i.description]])])),_:1}),(0,n.Wm)(u,{label:"Ссылка на изображение товара",required:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{modelValue:i.link,"onUpdate:modelValue":t[2]||(t[2]=e=>i.link=e),validate:i.validate,placeholder:"Введите ссылку"},null,8,["modelValue","validate"])])),_:1}),(0,n.Wm)(u,{label:"Цена товара",required:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{type:"number",modelValue:i.price,"onUpdate:modelValue":t[3]||(t[3]=e=>i.price=e),validate:i.validate,placeholder:"Введите цену"},null,8,["modelValue","validate"])])),_:1})]),(0,n.Wm)(s,{text:"Добавить товар",onClick:l.click,disabled:!l.formIsValid},null,8,["onClick","disabled"])])),_:1})}var y=a(536);const C={class:"container"};function x(e,t,a,r,o,i){return(0,n.wg)(),(0,n.iD)("div",C,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var k={name:"LayoutComponent"};const q=(0,g.Z)(k,[["render",x],["__scopeId","data-v-1c8d86ce"]]);var I=q;const P={class:"form-item"},O=["textContent"];function Z(e,t,a,r,o,i){return(0,n.wg)(),(0,n.iD)("fieldset",P,[a.label?((0,n.wg)(),(0,n.iD)("p",{key:0,class:(0,p.C_)(["title",{required:a.required}]),textContent:(0,p.zw)(a.label)},null,10,O)):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var A={name:"FormField",props:{label:{type:String,required:!1,default:""},required:{type:Boolean,required:!1}}};const W=(0,g.Z)(A,[["render",Z],["__scopeId","data-v-53ed7158"]]);var F=W;const D=["placeholder","value"],S={key:0,class:"invalid-msg"};function B(e,t,a,r,o,i){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("input",{class:(0,p.C_)(["input",{invalid:i.invalid}]),type:"text",onFocus:t[0]||(t[0]=e=>o.typing=!0),onBlur:t[1]||(t[1]=e=>o.typing=!1),onInput:t[2]||(t[2]=(...e)=>i.setValue&&i.setValue(...e)),placeholder:a.placeholder,value:o.typing?a.modelValue:i.localNumbers},null,42,D),i.invalid?((0,n.wg)(),(0,n.iD)("p",S,"Поле является обязательным")):(0,n.kq)("",!0)],64)}var H={name:"InputComponent",props:{modelValue:{type:[String,Number],required:!0},placeholder:{type:String,required:!1,default:"Введите текст"},validate:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:"text"}},emits:["update:modelValue"],data(){return{typing:!1}},computed:{localNumbers(){return"text"===this.type?this.modelValue:""===this.modelValue?"":new Intl.NumberFormat("ru-RU").format(this.modelValue)},invalid(){return this.validate&&!this.checkValid()}},methods:{setValue(e){if("text"===this.type)return this.$emit("update:modelValue",e.target.value);let t=e.target.value.replace(/[^0-9]/g,"");return e.target.value=t,t=""===t?"":Number(t).toString(),this.$emit("update:modelValue",t)},checkValid(){return!!this.modelValue}}};const $=(0,g.Z)(H,[["render",B],["__scopeId","data-v-339fc3de"]]);var M=$;const j=["textContent"];function U(e,t,a,o,i,l){return(0,n.wg)(),(0,n.iD)("button",{class:(0,p.C_)(["submit-btn",{disabled:a.disabled}]),onClick:t[0]||(t[0]=(0,r.iM)((t=>e.$emit("click")),["prevent"])),type:"submit",textContent:(0,p.zw)(a.text)},null,10,j)}var N={name:"GreenButton",props:{disabled:{type:Boolean,required:!1,default:!1},text:{type:String,required:!1,default:"Добавить товар"}},emits:["click"]};const z=(0,g.Z)(N,[["render",U],["__scopeId","data-v-3d64395f"]]);var G=z,L={name:"ProductForm",components:{LayoutComponent:I,FormField:F,InputComponent:M,GreenButton:G},emits:["submit"],data(){return{name:"",description:"",link:"",price:"",validate:!1}},computed:{formIsValid(){return this.name&&this.link&&this.price}},methods:{click(){if(this.formIsValid){const e=(0,y.Z)(),t={id:e,name:this.name,description:this.description,img:this.link,price:this.price};return this.$emit("submit",t),void(this.validate=!1)}this.validate=!0}}};const T=(0,g.Z)(L,[["render",_],["__scopeId","data-v-2acf0268"]]);var Y=T;const E={class:"card-container"},K={class:"photo"},R=["src"],J=(0,n.uE)('<svg xmlns="http://www.w3.org/2000/svg" width="13" height="16" fill="white" class="product-remove-ico" data-v-c1734320><path d="M7,5.8a.38.38,0,0,0-.38.37v7.09a.38.38,0,0,0,.75,0V6.17A.38.38,0,0,0,7,5.8Z" transform="translate(-0.5 0)" data-v-c1734320></path><path d="M1.56,4.76V14a2.07,2.07,0,0,0,.55,1.42A1.84,1.84,0,0,0,3.45,16h7.09a1.84,1.84,0,0,0,1.34-.58A2.07,2.07,0,0,0,12.43,14V4.76A1.43,1.43,0,0,0,12.06,2H10.14V1.48a1.44,1.44,0,0,0-.43-1A1.48,1.48,0,0,0,8.66,0H5.33A1.47,1.47,0,0,0,3.85,1.48V2H1.93a1.43,1.43,0,0,0-.37,2.81Zm9,10.49H3.45A1.19,1.19,0,0,1,2.31,14V4.8h9.37V14A1.19,1.19,0,0,1,10.54,15.25ZM4.6,1.48A.72.72,0,0,1,5.33.75H8.66A.72.72,0,0,1,9.18,1a.69.69,0,0,1,.21.52V2H4.6ZM1.93,2.7H12.06a.68.68,0,0,1,.68.67.69.69,0,0,1-.68.68H1.93a.68.68,0,0,1-.67-.68A.67.67,0,0,1,1.93,2.7Z" transform="translate(-0.5 0)" data-v-c1734320></path><path d="M4.81,5.8a.38.38,0,0,0-.38.37v7.09a.38.38,0,0,0,.38.37.37.37,0,0,0,.37-.37V6.17A.37.37,0,0,0,4.81,5.8Z" transform="translate(-0.5 0)" data-v-c1734320></path><path d="M9,5.8a.38.38,0,0,0-.38.37v7.09a.38.38,0,0,0,.38.37.37.37,0,0,0,.37-.37V6.17A.37.37,0,0,0,9,5.8Z" transform="translate(-0.5 0)" data-v-c1734320></path></svg>',1),Q=[J],X={class:"card-info"},ee={class:"product-info"},te=["textContent"],ae=["textContent"],re=["textContent"];function ne(e,t,a,r,o,i){return(0,n.wg)(),(0,n.iD)("div",E,[(0,n._)("header",K,[(0,n._)("img",{src:a.data.img,alt:"Изображение товара"},null,8,R),(0,n._)("div",{class:"product-remove",onClick:t[0]||(t[0]=t=>e.$emit("click"))},Q)]),(0,n._)("main",X,[(0,n._)("section",ee,[(0,n._)("p",{class:"title",textContent:(0,p.zw)(a.data.name)},null,8,te),(0,n._)("p",{class:"description",textContent:(0,p.zw)(a.data.description)},null,8,ae)]),(0,n._)("p",{class:"product-price",textContent:(0,p.zw)(i.price)},null,8,re)])])}var oe={name:"CardComponent",props:{data:{type:Object,required:!0}},emits:["click"],computed:{price(){const e=new Intl.NumberFormat("ru-RU").format(this.data.price);return`${e} руб.`}}};const ie=(0,g.Z)(oe,[["render",ne],["__scopeId","data-v-c1734320"]]);var le=ie,de={name:"App",components:{SelectComponent:V,ProductForm:Y,CardComponent:le},data(){return{sortBy:"default"}},computed:{sortedProducts(){switch(this.sortBy){case"min":return[...this.products].sort(((e,t)=>+e.price>+t.price?1:-1));case"max":return[...this.products].sort(((e,t)=>+e.price<+t.price?1:-1));case"name":return[...this.products].sort(((e,t)=>e.name>t.name?1:-1));default:return this.products}},...(0,c.rn)({products:e=>e.products,sortOptions:e=>e.sortOptions})},methods:{addProduct(e){this.$store.dispatch("addProduct",e)},removeProduct(e){this.$store.dispatch("removeProduct",e)}}};const ue=(0,g.Z)(de,[["render",s]]);var se=ue,ce=(0,c.MT)({state:{products:[],sortOptions:[{value:"default",text:"По умолчанию"},{value:"min",text:"По цене min"},{value:"max",text:"По цене max"},{value:"name",text:"По наименованию"}]},getters:{},mutations:{addProduct(e,t){e.products.push(t)},removeProduct(e,t){const a=e.products.findIndex((({id:e})=>e===t));e.products.splice(a,1)}},actions:{addProduct({commit:e},t){e("addProduct",t)},removeProduct({commit:e},t){e("removeProduct",t)}},modules:{}});(0,r.ri)(se).use(ce).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var i=1/0;for(s=0;s<e.length;s++){r=e[s][0],n=e[s][1],o=e[s][2];for(var l=!0,d=0;d<r.length;d++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[d])}))?r.splice(d--,1):(l=!1,o<i&&(i=o));if(l){e.splice(s--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],l=r[1],d=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(d)var s=d(a)}for(t&&t(r);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},r=self["webpackChunkform_ida"]=self["webpackChunkform_ida"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1382)}));r=a.O(r)})();
//# sourceMappingURL=app.24d6b831.js.map